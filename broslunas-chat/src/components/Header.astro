---
import { parse } from 'cookie';

const cookies = parse(Astro.request.headers.get('cookie') || '');
const isLoggedIn = cookies['loggedIn'] === 'true';
const username = cookies['username'] ? decodeURIComponent(cookies['username']) : ''; // Verifica si la cookie existe
---
<header style="position: fixed; top: 0; width: calc(100% - 2rem); margin: 0 1rem; background-color: #333; z-index: 1000; padding: 1rem 2rem; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); display: flex; align-items: center; justify-content: space-between;">
  <div style="color: #fff; margin: 0;">
    <h1 style="margin: 0;">Broslunas Chat</h1>
  </div>
  <div style="flex: 1; text-align: center;">
    <nav>
      <ul style="display: inline-flex; justify-content: center; gap: 2rem; list-style: none; margin: 0; padding: 0;">
        {!isLoggedIn && (
          <>
            <li><a href="/register" style="text-decoration: none; color: #fff;">Registro</a></li>
            <li><a href="/login" style="text-decoration: none; color: #fff;">Login</a></li>
          </>
        )}
      </ul>
    </nav>
  </div>
</header>